<!DOCTYPE html>
<html>

<head>
    
<link rel="stylesheet" href="main.css">

</head>

<body>
        
<div id="container">
    
    <div class="title-left">
        <h1>FUTURE</h1>
    </div>
    
    <div class="title-right">
         <h1>SPACES</h2>
    </div>
    
    <div id="manifesto" class="manifesto">
        
        <script id="manifesto-versions" type="text/x-mustache-template">
            <div class="versions">
            {{#everything}}
                <ul>
                    {{#manifesto}}
                        <li>
                            <h1>Manifesto<div class="number">{{number}}</div></h1>
                            <p>{{{text}}}</p>
                        </li>
                    {{/manifesto}}
                </ul>
            {{/everything}} 
            </div>
        </script>
    </div>
    
    <div class="schedule">
        <ul>
            <li>Week 16</li>
            <li>Week 15</li>
            <li>Week 14</li>
            <li>Week 13</li>
            <li>Week 12</li>
            <li>Week 11</li>
            <li class="complete">Week 10</li>
            <li class="complete">Week 9</li>
            <li class="complete">Week 8</li>
            <li class="complete">Week 7</li>
            <li class="complete">Week 6</li>
            <li class="complete">Week 5</li>
            <li class="complete">Week 4</li>
            <li class="complete">Week 3</li>
            <li class="complete">Week 2</li>
            <li class="complete">Week 1</li>
        </ul>
    </div>
    
    <div class="list-view">
        <div class="list">
            <ul>
                <li class="material"> Plaster 001
                    <dl id="entries">
                        <dt class="entry">Overview</dt>
                        <dd class="description"></dd>
                        <dt class="entry">LOCATION 003</dt>
                        <dd class="description current"><img src="images/themes/form/_1.png"></dd>
                        <dt class="entry">LOCATION 002</dt>
                        <dd class="description"><img src="images/themes/form/_2.png"></dd>
                        <dt class="entry">CONTENT 024</dt>
                        <dd class="description"><img src="images/themes/form/_3.png"></dd>
                        <dt class="entry">MEDIA 014</dt>
                        <dd class="description"><img src="images/themes/form/_4.png"></dd>
                        <dt class="entry">LOCATION 013</dt>
                        <dd class="description"><img src="images/themes/form/_5.png"></dd>
                    </dl>
                </li>
                <li class="material"> Plaster 002
                    <dl id="entries">
                        <dt class="entry">Overview</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                    </dl>
                </li>
                <li class="material"> Plaster 003
                    <dl id="entries">
                        <dt class="entry">Overview</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                        <dt class="entry">M1</dt>
                        <dd class="description"></dd>
                    </dl>
                </li>
            </ul>
        </div>
    </div>
    
    <div class="sort">
        <div id="properties">
            <div id="prop1"></div>
            <div id="prop2"></div>
            <div id="prop3"></div>
            <div id="prop4"></div>
        </div>
        <div id="themes">
            <div id="theme1"></div>
            <div id="theme2"></div>
            <div id="theme3"></div>
        </div>
    </div>
    
    <div class="limit" id="limit">
        <script id="icons" type="text/x-mustache-template">
        {{#everything}}
        {{#floaters}}
            <div id="limit-small" class="{{prop}} {{mat}}" data-vx='{{vx}}' data-vy='{{vy}}'>
                <a id='golink' href="{{url}}">
                    {{#entry}}
                        <div class="{{icon}}"></div>
                    {{/entry}}
                </a>
            </div>
        {{/floaters}}
        {{/everything}}
        </script>
    </div>
    
    <div id="bottom">
        <div class="manifesto-toggle">
            <p>Manifesto</p>
        </div>
        <div class="schedule-toggle">
            <p>Schedule</p>
        </div>
        <div class="list-toggle">
            <p>List</p>
        </div>
        <div class="sort-toggle">
            <p>Sort</p>
        </div>
    </div>
    
</div>
    
<script src="js/three.min.js"></script>
<script src="js/OrbitControls.js"></script>
<script src="js/mustache.min.js"></script>
    
<script language="javascript" type="text/javascript" src="js/jquery-1.11.3.js"></script>
<script language="javascript" type="text/javascript" src="js/jquery-ui.js"></script>
    
<script src="js/hover.js"></script>
    
<script>
    
    $.getJSON("./json/new.json", function(data) {
        console.log( "loading stuff" );
        var template = $("#manifesto-versions").html();
        var info = Mustache.to_html(template, data);
        $("#manifesto").html(info);
    });
    
    $.getJSON("./json/new.json", function(data) {
        console.log( "loading more stuff" );
        var template = $("#icons").html();
        var info = Mustache.to_html(template, data);
        $("#limit").html(info);
    });
    
</script>

<script>
    
    $(document).ready(function () {
        $('.manifesto-toggle').on('click', function(event){
            event.preventDefault();
            var manifestoTop = $('.manifesto');
            var scheduleOff = $('.schedule-toggle')

            manifestoTop.toggleClass('appear');
            scheduleOff.toggleClass('disable');

        });
        $('.schedule-toggle').on('click', function(event){
            event.preventDefault();
            var manifestoOff = $('.manifesto-toggle');
            var scheduleTop = $('.schedule')

            scheduleTop.toggleClass('appear');
            manifestoOff.toggleClass('disable');

        });
        
        $('#entries dt').on('mouseover', function() {
            var dd$ = $('dd.current');
            dd$.parent('dl').find('dd').removeClass('active');
            dd$.addClass('active');
        }).on('mouseout', function() {
            var dd$ = $('dd.current');
            dd$.removeClass('active');
            dd$.parent('dl').find('dd.current').addClass('active');
        });
    });
    
        
</script>    
    
<script>

    var camera, scenes, renderer, raycaster;
    
    var container = document.getElementById( 'container' );
    
    var cameraControls;
    
    function init() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera( 50, window.innerWidth /        window.innerHeight, 1, 1000 );
        camera.position.z = 125;

        var cameraControls;
        
        renderer = new THREE.WebGLRenderer({alpha:true});
        renderer.setSize( window.innerWidth, window.innerHeight );
        container.appendChild( renderer.domElement );
        
        cameraControls = new THREE.OrbitControls(camera, renderer.domElement);
        cameraControls.target.set( 0, -15, 0);
        cameraControls.maxDistance = 400;
        cameraControls.minDistance = 30;
        cameraControls.update();
        
//        var geometry = new THREE.BoxGeometry( 50, 50, 50 );
        
        var materialArray = [];
        
            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary5.jpg' ) }));
    
            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary2.jpg' ) }));

            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary3.jpg' ) }));

            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary4.jpg' ) }));

            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary1.jpg' ) }));

            materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'images/dictionary6.jpg' ) }));

        var dictionary = new THREE.MeshFaceMaterial( materialArray );
        
        var cube = new THREE.Mesh ( geometry, dictionary );
        
        scene.add(cube);
        
        }

    
    function animate() {

        requestAnimationFrame( animate );
        render();

        }

    function render() {

        renderer.render(scene, camera);
        };
    
        window.addEventListener( 'resize', onWindowResize, false );

    function onWindowResize(){

        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        renderer.setSize( window.innerWidth, window.innerHeight );

    }
    
    init();
    animate();
    
</script>
    
<script>
    
    $('.prop1, .prop2, .prop3, .prop4').each(function(i){
    // list the one you are working on
    //alert(i);
    
    // store a random number in a variable
    console.log( "stuff" );
    var t = Math.round(Math.random() * 800);
    var l = Math.round(Math.random() * 1400);

    // use that to position the elements
    $(this).css('top', t);
    $(this).css('left', l);
    });
    
    $('.location, .visual, .media, .content').each(function(i){
        
        var limitWidth = document.getElementById("limit-small").clientWidth;
        var limitHeight = document.getElementById("limit-small").clientHeight;
        
        var a = Math.random() * 90 - 5;
        
        var b = Math.floor((Math.random() * 100) + 1);
        
        var randPosX = Math.floor((Math.random() * limitWidth));
        var randPosY = Math.floor((Math.random() * limitHeight));
        
//        $(this).css('z-index', b );
        
        $(this).css('left', randPosX);
        $(this).css('top', randPosY);
        
        $(this).css('transform', 'rotate(' + a + 'deg) scale(.75)');
    });
    
    $(document).ready(function() {
        $(".prop1, .prop2, .prop3, .prop4").draggable({ containment: "parent", scroll: false });
    
        $('.sort-toggle').on('click', function (){
            
            var sortView = $('.sort');
            var sortTitle = $('.sort-toggle p')
            
            sortView.toggleClass("appear");
                                                
            if( $('.prop1').parent().attr("class") == "limit"){
                $('.prop1').appendTo('.sort #prop1'); 
            }
            
            if( $('.prop2').parent().attr("class") == "limit"){
                $('.prop2').appendTo('.sort #prop2'); 
            }
            
            if( $('.prop3').parent().attr("class") == "limit"){
                $('.prop3').appendTo('.sort #prop3'); 
            }
            
            if( $('.prop4').parent().attr("class") == "limit"){
                $('.prop4').appendTo('.sort #prop4'); 
            }
            
            else{
                $('.prop1, .prop2, .prop3, .prop4').appendTo(".limit")
                
                $('.prop1, .prop2, .prop3, .prop4').each(function(i){
                    // list the one you are working on
                    //alert(i);

                    // store a random number in a variable
                    var t = Math.round(Math.random() * 800);
                    var l = Math.round(Math.random() * 1400);

                    // use that to position the elements
                    $(this).css('top', t);
                    $(this).css('left', l);
                });
            }
        });
        
        $('.list-toggle').on('click', function (){
           
            var listView = $('.list-view');
            
            listView.toggleClass("appear");
            
        });
        
    });
        
    function hitLR(el, bounding) {
        console.log($(el).data('vx'), $(el).data('vy'))
        if (el.offsetLeft <= 0 && $(el).data('vx') < 0) {
            console.log('LEFT');
            $(el).data('vx', -1 * $(el).data('vx'))
        }
        if ((el.offsetLeft + el.offsetWidth) >= bounding.offsetWidth) {
            console.log('RIGHT');
            $(el).data('vx',  -1 * $(el).data('vx'));
        }
        if (el.offsetTop <= 0 && $(el).data('vy') < 0) {
            console.log('TOP');
            $(el).data('vy', -1 * $(el).data('vy'));
        }
        if ((el.offsetTop + el.offsetHeight) >= bounding.offsetHeight) {
            console.log('BOTTOM');
            $(el).data('vy', -1 * $(el).data('vy'));
        }
    }

    function mover(el, bounding) {
        hitLR(el, bounding);
        el.style.left = el.offsetLeft + $(el).data('vx') + 'px';
        el.style.top = el.offsetTop + $(el).data('vy') + 'px';
    
    }

    setInterval(function() {
        $('.prop1, .prop2, .prop3, .prop4').each(function(){

            mover(this, $('.limit')[0]);
        });
    }, 50);

</script>
    
</body>

</html>