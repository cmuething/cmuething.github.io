<html>

	<head>
	
		<title>Connor Muething</title>
		
		<link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        
		<!--When do I need to add in meta tags?-->
		
		<meta name="description" content="Designer from Cincinnati">
		
		<link rel="icon" href="favicon.ico" type="image/x-icon">

	</head>
	
	<body>
        
        <div id="loading"></div>
        
        <div id="whole-page">
            
		<div id="limit-t"></div>
		
		<div id="limit-r"></div>
		
		<div id="limit-b"></div>
		
		<div id="limit-l"></div>
            
<!--OVERVIEW-->
        
<!--        <div class="hide-overview"><p>X</p></div>-->
        
        <div class="thumbnail-icon">    
            <p class="overview-toggle" id="tops"><i class="fa fa-th-large"></i></p>
        </div>
            
		<section class="overview">
                
        <script id="project-cards" type="text/x-mustache-template">
            {{#projects}}
            <div class="thumbnail" id="b{{id}}">
                <div class="thumbnail-text"><p>{{name}}</p></div>
              <a class="wrapping" href="#{{id}}" data-project-id="{{id}}">
                <div class="thumbnail-image"><img src="{{covers.202}}" alt="{{name}}" /></div>
              </a>
            </div>
            {{/projects}}
       </script>
        
       </section>
        
<!--PROJECT DETAILS-->
        
        <section class="project-details" id="menu">
		  
            <script id="project-desc" type="text/x-mustache-template">
            {{#project}}

<!--The dynamic pages code from Kristian's example-->
                
                <!--
                <div class="project-page" id="project-{{project.id}}">
        <div class="container">
          <img src="{{project.covers.original}}" alt="{{project.name}}" />
          <h1>{{project.name}}</h1>
          <p>{{project.description}}</p>
        </div>
        <button class="close">X</button>
      </div>
-->
                
            <article class="project-details-toggle">
                <h1>{{name}}</h1>
                <p>{{project.description}}</p>
            
            </article>
            
            {{/project}}
            </script>
            			
		</section>
        
<!--        <div class="hide-details"><p>X</p></div>    -->
            
<!--        Should this be the project name or just something that says project details, an icon???-->
            
        <div class="project-label">
        
        <script id="project-title" type="text/x-mustache-template">
        
        {{#project}}
            
        <p class="project-details-toggle" id="bottoms">{{name}}</p>
        
        {{/project}}

        </script>
            
        </div>
        
<!--PROJECT PAGES-->
                
        <div class="test"> </div>
        
		<div id=container>
            
            
			
<!--Writing the script to load each project as a section-->
            
<!--
            <script id="project-pages" type="text/x-mustache-template">
                <section href="" class="image curr" id="project-{{id}}" data-drawer-title="{{name}}" data-drawer-description="{{description}}">
                    
                </section>
            </script> 
            
            <script id="project-page" type="text/x-mustache-template">
                    
                       <article class="scroll" >
                           <div class="modules-list list-reset">
                                {{#project.modules}}
                                <img class="images" src="{{#sizes.max_1200}}{{sizes.max_1200}}{{/sizes.max_1200}}{{^sizes.max_1200}}{{sizes.original}}{{/sizes.max_1200}}" />
                                {{/project.modules}}
                            </div>
					   </article> 
            </script>
-->
            
<!--End of the test script-->
                        
				<section href="" id="box1" class="image curr" id="project-{{id}}" data-drawer-title="{{name}}" data-drawer-description="{{description}}">
                    
                    <script id="project-page" type="text/x-mustache-template">
                    
                       <article class="scroll" >
                           <div class="modules-list list-reset">
                                {{#project.modules}}
                                <img class="images" src="{{#sizes.max_1200}}{{sizes.max_1200}}{{/sizes.max_1200}}{{^sizes.max_1200}}{{sizes.original}}{{/sizes.max_1200}}" />
                                {{/project.modules}}
                            </div>
					   </article> 
                        
<!--When I change the background color on the behance project, use this to style on the overall container style="background-color:{{project.styles.background.color}};"                        -->
                        
                    </script>
                                
				</section>
				
				<section id="box2" class="image" data-drawer-title="Some title" data-drawer-description="{{description}} what an amazing and excellent description!"> 
					
					<article class="scroll">
					   <img class="images" src="img/photo_2.jpg">
					</article>
					
				</section>
				
				<section id="box3" class="image" data-drawer-title="another title" data-drawer-description="{{description}} another amazing and excellent description! we are amazing.">
					
					<article class="scroll">
					   <img class="images" src="img/photo_3.jpg">
					</article>
					
				</section>
				
				<section id="box4" class="image" data-drawer-title="yet a different title">
                    
                    <script id="project1" type="text/x-mustache-template">
                    
                    </script>
					
					<article class="scroll">
					   <img class="images" src="img/test/one.jpg">
                       <img class="images" src="img/test/two.jpg">
                       <img class="images" src="img/test/three.jpg">
                       <img class="images" src="img/test/four.jpg">
                       <img class="images" src="img/test/six.jpg">
                       <img class="images" src="img/test/seven.jpg">
                       <img class="images" src="img/test/eight.jpg">
                       <img class="images" src="img/test/nine.jpg">
                       <img class="images" src="img/test/ten.jpg">
					</article>
					
				</section>
				
				<section id="box5" class="image">
					
					<article class="scroll">
					   <img class="images" src="img/test/one.jpg">
                       <img class="images" src="img/test/two.jpg">
                       <img class="images" src="img/test/three.jpg">
					</article>
					
				</section>
			
		</div>
                                        
<!--
TO DO:

    -Hosting on Github so that I can stop paying cargo
    
    -CLEAN UP ALL CODE
    -percentages and ems
    -MOBILE VIEW!!!!    

    -fix left click problem???
        -something with .next and .previous

    -how do I link a click on a thumbnail, with a specific project page??

    -make the images scroll to the edges of the screen rather than overflow:hidden???
    -arrows on left and right???
    -center aligning project title and tile icon

QUESTIONS FOR KRISTIAN
    -SESSION STORAGE...store the json file after initial load to avoid limit

    -center text on screen
        width: 100%, text-align: center

    -jarring transistion of drawers infront of gradient

    -selecting only images from the json modules

-->
                            
		<section class="connor-info"> 
		
			<!-- this comes in from the left and contains my contact information -->
            
        <script id="myname" type="text/x-mustache-template">
            {{#user}}
                <article class="connor-info-toggle">
                    <p>{{sections.About Me}}</p>
                    <p>{{location}}</p>
<!--                    <p>{{social_links.url}}</p>-->
                </article>
            {{/user}}
        </script>
            		
		</section>
		
		<p class="connor-info-toggle" id="connor" title="Connor Muething"> Connor<br>Muething </p>
		
		<nav>
		
			<div class="r" title="Next project"> 
			
				<img class="normal" src="" width="11" height="11" alt="Next project" style="display: block;">
				<img class="hover" src="" width="11" height="11" alt="Next project" style="display: none;"> 
				
			</div>
			
			<div class="l" title="Previous project"> left </div>
			
			<div class="t" title="Overview"> top </div>
			
			<div class="b" title="Info"> bottom </div>
						
		</nav>
    </div>

        <!-- JS -->
        <script language="javascript" type="text/javascript" src="js/jquery-1.11.3.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script src="js/behance.js"></script>
        <script src="js/mustache.min.js"></script>
        <script src="js/jquery.ba-outside-events.min.js"></script>
        
        <script>
//SESSION STORAGE

//        (function() {
//    var behanceUserAPI = 'http://www.behance.net/v2/users/'+ userName +'?callback=?&api_key='+ apiKey;
//    function setUserTemplate() {
//        var userData    = JSON.parse(sessionStorage.getItem('behanceUser')),
//        getTemplate = $('#profile-template').html(),
//        template    = Handlebars.compile(getTemplate),
//        result      = template(userData);
//        $('#header').html(result);
//    };
//    if(sessionStorage.getItem('behanceUser')) {
//        setUserTemplate();
//    } else {
//        $.getJSON(behanceUserAPI, function(user) {
//            var data = JSON.stringify(user);
//            sessionStorage.setItem('behanceUser', data);
//            setUserTemplate();
//        });
//    };
//})();    
            
//COMPILING EVERYTHING
            
        var initialUrl = 'https://api.behance.net/v2/users/' + userName + '/projects/?api_key=' + apiKey +'&per_page=8&callback=?';
      console.log('connected to ' + initialUrl + ' for main feed of projects. If you can click on the url it says you have connected to and it takes you to a JSON data feed, you are in business. Double check that the data looks like you!');

      var userUrl = 'https://api.behance.net/v2/users/' + userName + '/?api_key=' + apiKey +'&callback=?';
      console.log('connected to ' + userUrl + ' for user info. Click on this, if it looks like you, you are all set.');
            
        $.getJSON(initialUrl, function(data) {

        //mustache for projects
        //this prints the project thumbnails
            
//        var template = $('#project-cards').html();
//        var info = Mustache.to_html(template, data);
//        $('#behance-magix').html(info);

        // this allows for the "page" to be created
        // for each project when you click its thumbnail
        $('.thumbnail a').each(function() {
          var projectID  = $(this).attr('data-project-id');
          var projectUrl = 'https://api.behance.net/v2/projects/' + projectID + '/?api_key=' + apiKey +'&callback=?';
          console.log('trying to show a lot of projects:' + projectUrl + '.');

          $.getJSON(projectUrl, function(data) {
            //mustache for project page overlay
            var template = $('#project-pages').html();
            var info = Mustache.to_html(template, data);
            $('.image').append(info);

          });
        });

        // this should allow for making a project active
        $('.thumbnail a').click(function() {
          var projectID  = $(this).attr('data-project-id');
          var findThis = '#project-' + projectID;
          console.log(findThis);
          $('#project-page').removeClass('curr');
          $(findThis).addClass('curr');
        });
      });
     
        
//CALLING USER SPECIFIC INFORMATION

            var url = 'https://api.behance.net/v2/users/' + userName + '/?api_key=' + apiKey +'&callback=?';
            console.log('connected to ' + url + '.');

            $.getJSON(url, function(data) {
                var template = $('#myname').html();
                var info = Mustache.to_html(template, data);
                $('.connor-info').html(info);
            });

//CALLING PROJECT SPECIFIC INFORMATION

            var url = 'https://api.behance.net/v2/users/' + userName + '/projects/?api_key=' + apiKey +'&per_page=8&callback=?';
            console.log('connected to ' + url + '.');

            $.getJSON(url, function(data) {
                //mustache for projects

                var template = $('#project-cards').html();
                var info = Mustache.to_html(template, data);
                $('.overview').html(info);

            });

//CALLING SPECIFIC PROJECTS

            var projectID  = $(this).attr('data-project-id');
            var projectUrl = 'https://api.behance.net/v2/projects/32397281/?api_key=' + apiKey +'&callback=?';

            console.log('trying to show ' + projectUrl + '.');

            $.getJSON(projectUrl, function(data) {
                //mustache for projects

                var template = $('#project-desc').html();
                var info = Mustache.to_html(template, data);
                $('.project-details').html(info);

                var template = $('#project-page').html();
                var info = Mustache.to_html(template, data);
                $('.curr').html(info);

                var template = $('#project-title').html();
                var info = Mustache.to_html(template, data);
                $('.project-label').html(info);

                // $('.project-page button.close').click(function() {
                //     $(this).parent().hide();
                // });

            });

//LOADING THE PROJECT IMAGES            

//$(document).ready(function() {          
//    var $this = $(this),
//        projectID = $this.data('project-id'),
//        beProjectContentAPI = 'http://www.behance.net/v2/projects/'+ projectID +'?callback=?&api_key=' + apiKey,
//        keyName = 'behanceProjectImages-' + projectID;
//     
//    function showGallery(dataSource) {  
//        $this.magnificPopup({
//            items: dataSource,
//            type: 'image'
//        }).magnificPopup('open');
//    };
// 
//    if(localStorage.getItem(keyName)) {
//        var srcItems = JSON.parse(localStorage.getItem(keyName));
//        showGallery(srcItems);
//    } else {
//        $.getJSON(beProjectContentAPI, function(projectContent) {
//            var src = [];
//            $.each(projectContent.project.modules, function(index, mod) {
//                if(mod.src != undefined) {
//                    src.push({ src: mod.src }); 
//                }
//            });
//            showGallery(src);
//            var data = JSON.stringify(src);
//            localStorage.setItem(keyName, data);
//        });
//    };
//});

        </script>
                    	
	</body>
	
</html>